<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://unplug/skin/searchpage.css" type="text/css"?>
<!DOCTYPE dialog [
	<!ENTITY % dtdcommon SYSTEM "chrome://unplug/locale/common.dtd">
	%dtdcommon;
	<!ENTITY % dtdlocal SYSTEM "chrome://unplug/locale/searchpage.dtd">
	%dtdlocal;
	<!ENTITY % dtdresult SYSTEM "chrome://unplug/locale/unplug_result.dtd">
	%dtdresult;
	]>
<!--
/*
 *         _        ___
 *    /\ / /___    / _ \ /\ /\  _ ___
 *   / // // _ \  / // // // // // _ \
 *  / // // // / / ___// // // // // /
 *  \___//_//_/ /_/   /_/ \___/ \_  /
 *                             \___/
 * 
 *  Compunach UnPlug
 *  Copyright (C) 2009 David Batley <unplug@dbatley.com>
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 2 of the License, or
 *  (at your option) any later version.
 * 
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 * 
 *  You should have received a copy of the GNU General Public License
 *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
-->
<dialog id="cn_unplug2_search"
  title="&dialog.title;"
  flex="1"
  buttons="extra1,accept"
  defaultButton="accept"

  width="600"
  height="500"
  
  buttonlabelextra1="&configure;"
  buttonaccesskeyextra1="&configure.a;"
  
  onload="UnPlug2SearchPage.do_search();"
  ondialogaccept=""
  ondialogextra1="window.openDialog(&quot;chrome://unplug/content/config/config.xul&quot;)"
  onbeforeunload="UnPlug2SearchPage.abort();"
  
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
	
	<script type="application/x-javascript" src="chrome://unplug/content/common.js" />
	<script type="application/x-javascript" src="chrome://unplug/content/search/search.js" />
	<script type="application/x-javascript" src="chrome://unplug/content/search/rules.js" />
	<script type="application/x-javascript" src="chrome://unplug/content/display/pop/pop.js" />
	
	<script src="chrome://global/content/nsDragAndDrop.js" />
	<script src="chrome://global/content/nsTransferable.js" />
	
	<dialogheader title="&header.title;" description="&header.subtitle;"/>
	<vbox id="results" style="overflow: -moz-scrollbars-vertical; border: 1px #666666 solid;" flex="1" />
	<spacer height="0.5em;" />
	<hbox>
		<label id="dynamic_download" value="" />
		<spacer flex="1" />
		<label id="dynamic_results" value="" />
	</hbox>
	<hbox>
		<button oncommand="UnPlug2SearchPage.abort();" id="stop_button" label="&stop.label;"  accesskey="&stop.accesskey;" />
		<spacer flex="1" />
		<button oncommand="UnPlug2SearchPage.send_nothing_found_msg();" id="notfound_button" label="&notfound.label;"  accesskey="&notfound.accesskey;" />
	</hbox>
	<spacer height="0.5em;" />
	<progressmeter id="search_progress" mode="determined" value="0"/>
	
	<!-- this is the form of the result itself. We'll clone this to use in our display -->
	<vbox id="unplug_result_template" class="unplug-result" flex="0" collapsed="true">
		<toolbar flex="1">
			<image class="ur-thumbnail" />
			<vbox flex="1" style="overflow: hidden;">
				<hbox>
					<label class="ur-host" />
					<label class="ur-name" />
				</hbox>
				<hbox>
					<label class="ur-protocol" /><!-- protocol -->
					<label class="ur-description" /><!-- description -->
				</hbox>
			</vbox>
			<!--
				we want these to be drop-down buttons
				ie Open / Open in a new window
				and Download / Dowload with dTa / download with foo
				and Play / Play in vlc / Play in totem / Look for media players
			-->
			<!-- aternative is type="menu" -->
			<toolbarbutton
				accesskey="&copyurl.accesskey;"
				label="&copyurl.label;"
				tooltiptext="&copyurl.tooltip;"
				class="menuitem-iconic copyurl"
				type="button"
				disabled="true"
				tabindex="1"
				/>
			<toolbarbutton
				accesskey="&dl.accesskey;"
				label="&dl.label;"
				type="menu-button"
				tabindex="1"
				onkeydown="if (event.keyCode == 32) { this.open = true; }"
				>
				<menupopup>
					<menuitem
						accesskey="&dl.saveas.accesskey;"
						label="&dl.saveas.label;"
						tooltiptext="&dl.saveas.tooltip;"
						class="menuitem-iconic saveas"
						/>
					<menuitem
						accesskey="&dl.dta.accesskey;"
						label="&dl.dta.label;"
						tooltiptext="&dl.dta.tooltip;"
						class="menuitem-iconic dta"
						/>
					<menuitem
						accesskey="&dl.flashgot.accesskey;"
						label="&dl.flashgot.label;"
						tooltiptext="&dl.flashgot.tooltip;"
						class="menuitem-iconic flashgot"
						/>
					<menuseparator />
					<menuitem
						accesskey="&open.tab.accesskey;"
						label="&open.tab.label;"
						tooltiptext="&open.tab.tooltip;"
						class="menuitem-iconic opentab"
						/>
					<menuitem
						accesskey="&open.new.accesskey;"
						label="&open.new.label;"
						tooltiptext="&open.new.tooltip;"
						class="menuitem-iconic opennew"
						/>
					<menuitem
						accesskey="&open.over.accesskey;"
						label="&open.over.label;"
						tooltiptext="&open.over.tooltip;"
						class="menuitem-iconic openover"
						/>
					<menuseparator />
					<menuitem
						accesskey="&config.accesskey;"
						label="&config.label;"
						tooltiptext="&config.tooltip;"
						class="menuitem-iconic config"
						/>
				</menupopup>
			</toolbarbutton>
		</toolbar>
	</vbox>
</dialog>

